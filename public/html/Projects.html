<!DOCTYPE html>
<html>
        <head>
            <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
            <title>Projects page</title>
            <link rel="stylesheet" type="text/css" href="../stylesheets/style.css">
        </head>
        <nav>
            <button class="button-nav" onclick="window.location.href='/'">Home</button>
            <button class="button-nav" onclick="window.location.href='/projects'">Projects</button>
            <button class="button-nav" onclick="window.location.href='/blog'">Blog</button>
            <button class="button-nav" onclick="window.location.href='/app'">App</button>
            <button class="button-nav" onclick="window.location.href='/createpost'">Create Post</button>
        </nav>
    <br>




    <body>
        <div class="intro-Header">
            
            <h1>This is the page in which I will be displaying my different Projects</h1>
            <h1>Including public projects from GitHub</h1>
           
            
        </div>
        <article>
        <p>
            GitHub projects here.
            
        </p>
            <div id="repos">

            </div>
        </article>
    </body>
    <script>

const divResult = document.getElementById("repos");
var content="";
var currentColumnCount=0;
function creatCard(repo)
    {
   
        content+=
        
        `<div class="column">
            <a href="${repo.html_url}">
                <div class="card">
                    <img src="../images/matrix-code.jpg" alt="Avatar" style="width:100%">
                    <div class="container">
                        <h4><b>${repo.name}</b></h4>
                        <p>${repo.language}</p>
                    </div>
                </div>
            </a>
        </div>`
    }
    $(document).ready(getRepos);
    function getRepos()
    {
    
    const url = "https://api.github.com/users/JeffreyFG/repos";
    var request = new XMLHttpRequest(url);
    request.open('GET',url,true)
    request.onload = function()
    {
        var data = JSON.parse(this.response);
        content+=`<div class ="row">`;
        data.forEach(element => 
        {
            if(currentColumnCount%3==0)
            {
                content+=`<div class ="row">`
            }
            creatCard(element);
            currentColumnCount++;
            if(currentColumnCount%3==0)
            {
                content+=`</div>`
            }
            
        });
        content+=`</div>`
        divResult.innerHTML=content;
    }
    request.send();
}
    </script>

</html>