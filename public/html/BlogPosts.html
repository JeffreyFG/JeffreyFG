<!DOCTYPE html>
<html>
        <head>
            <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
            <title>Jeffrey's blog posts</title>
            <link rel="stylesheet" type="text/css" href="../stylesheets/style.css">


            <script>
                $(document).ready(function()
                { 
                    fetch('http://jeffreyfg.net:80/blog/getRecentPosts/',{mode:'cors'}).then(function(response)
                    {   
                        var data = response.json().then(function(data)
                        {
                           
                            var cards="";
                         
                            console.log(data);
                            var i =0;
                            for(const blogPost of data.reverse())
                            {
                            
                                cards=cards+createCard(blogPost);
                            }
                            document.getElementById("picutrespot").innerHTML=cards;
                            
                           
                        });
 
                    });   
                });
                function createCard(data)
                {
                    var card=`<div class="card"> \
                                <img class="card-image" src ="../images/uploads/${data.photoPath}">\
                                    <div class="card-body">\ 
                                        <p class="card-title">${data.title}</p>\
                                            <p class="card-text">${data.description}</p> \
                                                <a href="/posts/imagepost/${data.id}" class="anchor-buttons">Details </a>\
                                    </div>\
                            </div> `; 
                    return card;
                }           
                    
                            
                            </script>
        </head>
        <nav>
            <button class="button-nav" onclick="window.location.href='/'">Home</button>
            <button class="button-nav" onclick="window.location.href='/projects'">Projects</button>
            <button class="button-nav" onclick="window.location.href='/blog'">Blog</button>
            <button class="button-nav" onclick="window.location.href='/app'">App</button>
            <button class="button-nav" onclick="window.location.href='/blog/createpostpage'">Create Post</button>
    </nav>
    <body>
        <div class="intro-Header">
            <div class="top-center">
                <h1> This is the personal blog for JeffreyFG</h1>
            </div>
        </div>
        <article>
        <div id ="picutrespot"></div>
        </article>
    </body>

</html>